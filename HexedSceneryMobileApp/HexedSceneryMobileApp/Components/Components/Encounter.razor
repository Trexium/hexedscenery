@using HexedSceneryMobileApp.Services


@inject IEncounterService EncounterService


@if (_encounter == null)
{
    <span>Loading...</span>
}
else
{
    <div>&nbsp;</div>
    <h3 class="schoensperger xtra-large-text">@_encounter.Name</h3>
    <p class="caslon-antique text">@((MarkupString)_encounter.Description)</p>

    @if (_encounter.DiceChartId.HasValue)
    {
        <div>&nbsp;</div>
        <DiceChartComponent DiceChartId="@_encounter.DiceChartId.Value" />
    }
    @if (_encounter.MonsterId.HasValue)
    {
        <div>&nbsp;</div>
        <Monster MonsterId="_encounter.MonsterId.Value" />
    }
}


@code {
    [Parameter]
    public int EncounterResultNumber { get; set; }

    [Parameter]
    public int EncounterTypeId { get; set; }

    private Models.Encounter _encounter;
  


    protected override async Task OnParametersSetAsync()
    {
        _encounter = await EncounterService.GetEncounterAsync(EncounterTypeId, EncounterResultNumber);
        StateHasChanged();
    }
}
